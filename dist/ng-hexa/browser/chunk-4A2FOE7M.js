import{Fa as C,Ga as c,Ha as m,P as d,T as i,X as l,Ya as T,Za as y,fa as f,hb as I,jb as w,na as r,qa as v,ua as h,xa as u,ya as g}from"./chunk-5A2YSUWG.js";function j(o,e){if(o&1&&(c(0,"div",2)(1,"div",3),T(2),m()()),o&2){let t=e.$implicit;g("data-kind",t.kind),r(2),y(t.message)}}var a=class o{toast=i(s);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=v({type:o,selectors:[["app-toast-container"]],decls:2,vars:1,consts:[["aria-live","polite","aria-atomic","true",1,"ed-toast-host"],["class","ed-toast","role","status",4,"ngFor","ngForOf"],["role","status",1,"ed-toast"],[1,"ed-toast__msg"]],template:function(t,n){t&1&&(c(0,"div",0),h(1,j,3,2,"div",1),m()),t&2&&(r(),C("ngForOf",n.toast.toasts()))},dependencies:[w],encapsulation:2,changeDetection:0})};var s=class o{appRef=i(u);envInjector=i(l);toasts=f([]);hostEl;success(e,t=2600){this.show("success",e,t)}error(e,t=3800){this.show("error",e,t)}info(e,t=2600){this.show("info",e,t)}show(e,t,n){this.ensureContainer();let p={id:`${Date.now()}_${Math.random().toString(16).slice(2)}`,kind:e,message:t,createdAtMs:Date.now(),ttlMs:n};this.toasts.update(E=>[...E,p].slice(-5)),setTimeout(()=>this.remove(p.id),n)}remove(e){this.toasts.update(t=>t.filter(n=>n.id!==e))}ensureContainer(){if(this.hostEl)return;let e=I(a,{environmentInjector:this.envInjector});this.appRef.attachView(e.hostView);let t=e.location.nativeElement;document.body.appendChild(t),this.hostEl=t}static \u0275fac=function(t){return new(t||o)};static \u0275prov=d({token:o,factory:o.\u0275fac,providedIn:"root"})};export{s as a};
